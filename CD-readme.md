CCIS 2591 JavaScript Library Project, by Cheryl Davis

This page uses different features of the JavaScript library, Three.js. Three.js is an open source 3D library that provides you with an easy to use  tools to create WebGL graphics and animation in Javascript. Because it's open sourced, you can find many different .js files that can incorporate different methods and functionality in your documents. While its nice to have so many options available, figuring out what they all do and how you can incorporate them into you code can be a rather daunting task. There are a lot of three.js examples out on the Internet. They do some pretty neat things, but if you plan on working with the examples to learn how to do something, you need to be careful. I found that many were written from older versions of three.js and didn't work in today's version.

The three.js manual found at threejg.org, provides you with information on the various three.js functions. One thing I found is that when you start working with other spin off libraries, like DragControl.js, OrbitControls.js, and TWEEN, documentation is just not out there to explain things well. Many of the examples that showcase these don't contain any explanations. You need to painstakingly go through the code trying to figure out what its doing. This is why for this project, I stuck to the original three.js and OrbitControls.js. OrbitControls.js helped making my scenes draggable much less complicated.

To start I give you a basic HTML document, using JQuery and JavaScript to change background colors, place my header, and add a couple images. The images are clickable, using JQuery to call different functions that run my three.js renderings. On mouseover, a popup dialog box appears to give a brief explanation of each three.js scene.

A three.js scene requires three elements.  A scene, a camera, and a renderer. These each have different attributes and types to choose from. For my project I kept it fairly simple using the most common camera, the Perspective camera, which is designed to mimic what the human eye sees. I also used the most common renderer, WebGLRenderer. These are defined at the beginning for each of my different functions. I then add the different geometric shapes into my scene.

Coin Flipper
You would think this was simple, but figuring out how make the coin spin was a bit of a challenge. In order to make your object appear to rotate, you need to place the commands inside the renderer function, which is an infinite loop. The trick isn't so much making the coin spin, it's making it stop and then spin on demand. To accomplish this, I added an if statement inside the renderer function which is controlled by an outside true/false variable. The variable changes when the mouse button is pressed and released. One concept unique to three.js is that you can't specifically click an object within the scene. When you place a click handler, it's for the whole scene. You can see this if you place a console.log just inside the handler. Anywhere you click, it's logged. The trick is to use what they call Raycatcher to determine if the click hit the object. This is accomplished by grabbing the coordinates of where you clicked and comparing those with the location of a specified object. If they match, raycatcher returns the object. Now you can check if the variable is null or zero to know if the click hit the target or not.

Space Scene demonstrates the following:
  1) Creating basis geometric shapes. Here I've played with Sphere, Cube, and Torus Geometries. Three.js makes this easy. You just call the function for the shape you are creating and input the parameters. The parameters vary base on the shape chose. Cube is one of the simplest, with just width, height, and depth needed to create the shape.
  2) Particles. Particles can get a bit complicated. Mainly because of the math involved. What the heck is a vertices anyway? I generated my code based off a couple examples I found online. It took me a while and a lot of analysis of the examples, but after a day of playing around, I was rewarded with a rather fun explosion effect. I also use particles to make the stars which give us the space background. That was relatively simple since I didn't make those particles move.
  3) Rotation. The lava planet slowly rotates as does the station station. (OH there is a spacestation, just off screen to the left. If you didn't click and drag, you missed it.) Three.js make rotation simple. All it takes is a single line of code within the renderer function. You just need to specify the axis and speed. I play around with both. One thing to mention here is that depending on the shape, the rotation can differ greatly. The best way to figure out how is of course to play around with the settings and see what happens.
  4) OrbitControls. This is what makes dragging and moving object possible. I was a bit disappointed in that its basic functionality moves the entire scene, not just a single object within the scene. In reality the "moving" object is really an optical illusion. The 3D graphic is stationary, it's the camera (the way we are looking at the object) that changes. For this reason, when you have multiple objects, like in my space scene, all of them appear to move when dragged.
